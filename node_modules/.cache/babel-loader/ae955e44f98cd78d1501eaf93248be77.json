{"ast":null,"code":"import _withState from 'recompose/withState';\nimport _withPropsOnChange from 'recompose/withPropsOnChange';\nimport _withProps from 'recompose/withProps';\nimport _compose from 'recompose/compose';\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nimport classNames from 'classnames';\nimport { withDefaultProps } from './';\nimport { withImmutableProps } from '../utils';\nimport isBefore from 'date-fns/is_before';\nimport enhanceHeader from '../Header/withRange';\nimport format from 'date-fns/format';\nimport parse from 'date-fns/parse';\nvar styles = {\n  'root': 'Cal__Day__root',\n  'enabled': 'Cal__Day__enabled',\n  'highlighted': 'Cal__Day__highlighted',\n  'today': 'Cal__Day__today',\n  'disabled': 'Cal__Day__disabled',\n  'selected': 'Cal__Day__selected',\n  'month': 'Cal__Day__month',\n  'year': 'Cal__Day__year',\n  'selection': 'Cal__Day__selection',\n  'day': 'Cal__Day__day',\n  'range': 'Cal__Day__range',\n  'start': 'Cal__Day__start',\n  'end': 'Cal__Day__end',\n  'betweenRange': 'Cal__Day__betweenRange'\n};\nvar isTouchDevice = false;\nexport var EVENT_TYPE = {\n  END: 3,\n  HOVER: 2,\n  START: 1\n}; // Enhance Day component to display selected state based on an array of selected dates\n\nexport var enhanceDay = _withPropsOnChange(['selected'], function (_ref) {\n  var _classNames;\n\n  var date = _ref.date,\n      selected = _ref.selected,\n      theme = _ref.theme;\n  var isSelected = date >= selected.start && date <= selected.end;\n  var isStart = date === selected.start;\n  var isEnd = date === selected.end;\n  var isRange = !(isStart && isEnd);\n  var style = isRange && (isStart && {\n    backgroundColor: theme.accentColor\n  } || isEnd && {\n    borderColor: theme.accentColor\n  });\n  return {\n    className: isSelected && isRange && classNames(styles.range, (_classNames = {}, _classNames[styles.start] = isStart, _classNames[styles.betweenRange] = !isStart && !isEnd, _classNames[styles.end] = isEnd, _classNames)),\n    isSelected: isSelected,\n    selectionStyle: style\n  };\n}); // Enhancer to handle selecting and displaying multiple dates\n\nvar withRange = _compose(withDefaultProps, _withState('scrollDate', 'setScrollDate', getInitialDate), _withState('displayKey', 'setDisplayKey', getInitialDate), _withState('selectionStart', 'setSelectionStart', null), withImmutableProps(function (_ref2) {\n  var DayComponent = _ref2.DayComponent,\n      HeaderComponent = _ref2.HeaderComponent,\n      YearsComponent = _ref2.YearsComponent;\n  return {\n    DayComponent: enhanceDay(DayComponent),\n    HeaderComponent: enhanceHeader(HeaderComponent)\n  };\n}), _withProps(function (_ref3) {\n  var displayKey = _ref3.displayKey,\n      passThrough = _ref3.passThrough,\n      selected = _ref3.selected,\n      setDisplayKey = _ref3.setDisplayKey,\n      props = _objectWithoutProperties(_ref3, ['displayKey', 'passThrough', 'selected', 'setDisplayKey']);\n\n  return {\n    /* eslint-disable sort-keys */\n    passThrough: _extends({}, passThrough, {\n      Day: {\n        onClick: function onClick(date) {\n          return handleSelect(date, _extends({\n            selected: selected\n          }, props));\n        },\n        handlers: {\n          onMouseOver: !isTouchDevice && props.selectionStart ? function (e) {\n            return handleMouseOver(e, _extends({\n              selected: selected\n            }, props));\n          } : null\n        }\n      },\n      Years: {\n        selected: selected && selected[displayKey],\n        onSelect: function onSelect(date) {\n          return handleYearSelect(date, _extends({\n            displayKey: displayKey,\n            selected: selected\n          }, props));\n        }\n      },\n      Header: {\n        onYearClick: function onYearClick(date, e, key) {\n          return setDisplayKey(key || 'start');\n        }\n      }\n    }),\n    selected: {\n      start: selected && format(selected.start, 'YYYY-MM-DD'),\n      end: selected && format(selected.end, 'YYYY-MM-DD')\n    }\n  };\n}));\n\nexport { withRange };\n\nfunction getSortedSelection(_ref4) {\n  var start = _ref4.start,\n      end = _ref4.end;\n  return isBefore(start, end) ? {\n    start: start,\n    end: end\n  } : {\n    start: end,\n    end: start\n  };\n}\n\nfunction handleSelect(date, _ref5) {\n  var onSelect = _ref5.onSelect,\n      selected = _ref5.selected,\n      selectionStart = _ref5.selectionStart,\n      setSelectionStart = _ref5.setSelectionStart;\n\n  if (selectionStart) {\n    onSelect(_extends({\n      eventType: EVENT_TYPE.END\n    }, getSortedSelection({\n      start: selectionStart,\n      end: date\n    })));\n    setSelectionStart(null);\n  } else {\n    onSelect({\n      eventType: EVENT_TYPE.START,\n      start: date,\n      end: date\n    });\n    setSelectionStart(date);\n  }\n}\n\nfunction handleMouseOver(e, _ref6) {\n  var onSelect = _ref6.onSelect,\n      selectionStart = _ref6.selectionStart;\n  var dateStr = e.target.getAttribute('data-date');\n  var date = dateStr && parse(dateStr);\n\n  if (!date) {\n    return;\n  }\n\n  onSelect(_extends({\n    eventType: EVENT_TYPE.HOVER\n  }, getSortedSelection({\n    start: selectionStart,\n    end: date\n  })));\n}\n\nfunction handleYearSelect(date, _ref7) {\n  var _Object$assign;\n\n  var displayKey = _ref7.displayKey,\n      onSelect = _ref7.onSelect,\n      selected = _ref7.selected,\n      setScrollDate = _ref7.setScrollDate;\n  setScrollDate(date);\n  onSelect(getSortedSelection(Object.assign({}, selected, (_Object$assign = {}, _Object$assign[displayKey] = parse(date), _Object$assign))));\n}\n\nfunction getInitialDate(_ref8) {\n  var selected = _ref8.selected;\n  return selected && selected.start || new Date();\n}\n\nif (typeof window !== 'undefined') {\n  window.addEventListener('touchstart', function onTouch() {\n    isTouchDevice = true;\n    window.removeEventListener('touchstart', onTouch, false);\n  });\n}","map":{"version":3,"sources":["E:/react app/my-app/node_modules/react-infinite-calendar/es/Calendar/withRange.js"],"names":["_withState","_withPropsOnChange","_withProps","_compose","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_objectWithoutProperties","obj","keys","indexOf","classNames","withDefaultProps","withImmutableProps","isBefore","enhanceHeader","format","parse","styles","isTouchDevice","EVENT_TYPE","END","HOVER","START","enhanceDay","_ref","_classNames","date","selected","theme","isSelected","start","end","isStart","isEnd","isRange","style","backgroundColor","accentColor","borderColor","className","range","betweenRange","selectionStyle","withRange","getInitialDate","_ref2","DayComponent","HeaderComponent","YearsComponent","_ref3","displayKey","passThrough","setDisplayKey","props","Day","onClick","handleSelect","handlers","onMouseOver","selectionStart","e","handleMouseOver","Years","onSelect","handleYearSelect","Header","onYearClick","getSortedSelection","_ref4","_ref5","setSelectionStart","eventType","_ref6","dateStr","getAttribute","_ref7","_Object$assign","setScrollDate","_ref8","Date","window","addEventListener","onTouch","removeEventListener"],"mappings":"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","sourcesContent":["import _withState from 'recompose/withState';\nimport _withPropsOnChange from 'recompose/withPropsOnChange';\nimport _withProps from 'recompose/withProps';\nimport _compose from 'recompose/compose';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nimport classNames from 'classnames';\nimport { withDefaultProps } from './';\nimport { withImmutableProps } from '../utils';\nimport isBefore from 'date-fns/is_before';\nimport enhanceHeader from '../Header/withRange';\nimport format from 'date-fns/format';\nimport parse from 'date-fns/parse';\nvar styles = {\n  'root': 'Cal__Day__root',\n  'enabled': 'Cal__Day__enabled',\n  'highlighted': 'Cal__Day__highlighted',\n  'today': 'Cal__Day__today',\n  'disabled': 'Cal__Day__disabled',\n  'selected': 'Cal__Day__selected',\n  'month': 'Cal__Day__month',\n  'year': 'Cal__Day__year',\n  'selection': 'Cal__Day__selection',\n  'day': 'Cal__Day__day',\n  'range': 'Cal__Day__range',\n  'start': 'Cal__Day__start',\n  'end': 'Cal__Day__end',\n  'betweenRange': 'Cal__Day__betweenRange'\n};\n\n\nvar isTouchDevice = false;\n\nexport var EVENT_TYPE = {\n  END: 3,\n  HOVER: 2,\n  START: 1\n};\n\n// Enhance Day component to display selected state based on an array of selected dates\nexport var enhanceDay = _withPropsOnChange(['selected'], function (_ref) {\n  var _classNames;\n\n  var date = _ref.date,\n      selected = _ref.selected,\n      theme = _ref.theme;\n\n  var isSelected = date >= selected.start && date <= selected.end;\n  var isStart = date === selected.start;\n  var isEnd = date === selected.end;\n  var isRange = !(isStart && isEnd);\n  var style = isRange && (isStart && { backgroundColor: theme.accentColor } || isEnd && { borderColor: theme.accentColor });\n\n  return {\n    className: isSelected && isRange && classNames(styles.range, (_classNames = {}, _classNames[styles.start] = isStart, _classNames[styles.betweenRange] = !isStart && !isEnd, _classNames[styles.end] = isEnd, _classNames)),\n    isSelected: isSelected,\n    selectionStyle: style\n  };\n});\n\n// Enhancer to handle selecting and displaying multiple dates\nvar withRange = _compose(withDefaultProps, _withState('scrollDate', 'setScrollDate', getInitialDate), _withState('displayKey', 'setDisplayKey', getInitialDate), _withState('selectionStart', 'setSelectionStart', null), withImmutableProps(function (_ref2) {\n  var DayComponent = _ref2.DayComponent,\n      HeaderComponent = _ref2.HeaderComponent,\n      YearsComponent = _ref2.YearsComponent;\n  return {\n    DayComponent: enhanceDay(DayComponent),\n    HeaderComponent: enhanceHeader(HeaderComponent)\n  };\n}), _withProps(function (_ref3) {\n  var displayKey = _ref3.displayKey,\n      passThrough = _ref3.passThrough,\n      selected = _ref3.selected,\n      setDisplayKey = _ref3.setDisplayKey,\n      props = _objectWithoutProperties(_ref3, ['displayKey', 'passThrough', 'selected', 'setDisplayKey']);\n\n  return {\n    /* eslint-disable sort-keys */\n    passThrough: _extends({}, passThrough, {\n      Day: {\n        onClick: function onClick(date) {\n          return handleSelect(date, _extends({ selected: selected }, props));\n        },\n        handlers: {\n          onMouseOver: !isTouchDevice && props.selectionStart ? function (e) {\n            return handleMouseOver(e, _extends({ selected: selected }, props));\n          } : null\n        }\n      },\n      Years: {\n        selected: selected && selected[displayKey],\n        onSelect: function onSelect(date) {\n          return handleYearSelect(date, _extends({ displayKey: displayKey, selected: selected }, props));\n        }\n      },\n      Header: {\n        onYearClick: function onYearClick(date, e, key) {\n          return setDisplayKey(key || 'start');\n        }\n      }\n    }),\n    selected: {\n      start: selected && format(selected.start, 'YYYY-MM-DD'),\n      end: selected && format(selected.end, 'YYYY-MM-DD')\n    }\n  };\n}));\n\nexport { withRange };\nfunction getSortedSelection(_ref4) {\n  var start = _ref4.start,\n      end = _ref4.end;\n\n  return isBefore(start, end) ? { start: start, end: end } : { start: end, end: start };\n}\n\nfunction handleSelect(date, _ref5) {\n  var onSelect = _ref5.onSelect,\n      selected = _ref5.selected,\n      selectionStart = _ref5.selectionStart,\n      setSelectionStart = _ref5.setSelectionStart;\n\n  if (selectionStart) {\n    onSelect(_extends({\n      eventType: EVENT_TYPE.END\n    }, getSortedSelection({\n      start: selectionStart,\n      end: date\n    })));\n    setSelectionStart(null);\n  } else {\n    onSelect({ eventType: EVENT_TYPE.START, start: date, end: date });\n    setSelectionStart(date);\n  }\n}\n\nfunction handleMouseOver(e, _ref6) {\n  var onSelect = _ref6.onSelect,\n      selectionStart = _ref6.selectionStart;\n\n  var dateStr = e.target.getAttribute('data-date');\n  var date = dateStr && parse(dateStr);\n\n  if (!date) {\n    return;\n  }\n\n  onSelect(_extends({\n    eventType: EVENT_TYPE.HOVER\n  }, getSortedSelection({\n    start: selectionStart,\n    end: date\n  })));\n}\n\nfunction handleYearSelect(date, _ref7) {\n  var _Object$assign;\n\n  var displayKey = _ref7.displayKey,\n      onSelect = _ref7.onSelect,\n      selected = _ref7.selected,\n      setScrollDate = _ref7.setScrollDate;\n\n\n  setScrollDate(date);\n  onSelect(getSortedSelection(Object.assign({}, selected, (_Object$assign = {}, _Object$assign[displayKey] = parse(date), _Object$assign))));\n}\n\nfunction getInitialDate(_ref8) {\n  var selected = _ref8.selected;\n\n  return selected && selected.start || new Date();\n}\n\nif (typeof window !== 'undefined') {\n  window.addEventListener('touchstart', function onTouch() {\n    isTouchDevice = true;\n\n    window.removeEventListener('touchstart', onTouch, false);\n  });\n}"]},"metadata":{},"sourceType":"module"}