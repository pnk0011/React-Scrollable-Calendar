{"ast":null,"code":"import _withState from 'recompose/withState';\nimport _withProps from 'recompose/withProps';\nimport _withHandlers from 'recompose/withHandlers';\nimport _compose from 'recompose/compose';\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nimport addDays from 'date-fns/add_days';\nimport format from 'date-fns/format';\nimport isAfter from 'date-fns/is_after';\nimport isBefore from 'date-fns/is_before';\nimport { keyCodes, withImmutableProps } from '../utils';\n\nvar enhanceDay = _withProps(function (props) {\n  return {\n    isHighlighted: props.highlightedDate === props.date\n  };\n});\n\nexport var withKeyboardSupport = _compose(_withState('highlightedDate', 'setHighlight'), withImmutableProps(function (_ref) {\n  var DayComponent = _ref.DayComponent;\n  return {\n    DayComponent: enhanceDay(DayComponent)\n  };\n}), _withHandlers({\n  onKeyDown: function onKeyDown(props) {\n    return function (e) {\n      return handleKeyDown(e, props);\n    };\n  }\n}), _withProps(function (_ref2) {\n  var highlightedDate = _ref2.highlightedDate,\n      onKeyDown = _ref2.onKeyDown,\n      onSelect = _ref2.onSelect,\n      passThrough = _ref2.passThrough,\n      setHighlight = _ref2.setHighlight;\n  return {\n    passThrough: _extends({}, passThrough, {\n      Day: _extends({}, passThrough.Day, {\n        highlightedDate: format(highlightedDate, 'YYYY-MM-DD'),\n        onClick: function onClick(date) {\n          setHighlight(null);\n          passThrough.Day.onClick(date);\n        }\n      }),\n      rootNode: {\n        onKeyDown: onKeyDown\n      }\n    })\n  };\n}));\n\nfunction handleKeyDown(e, props) {\n  var minDate = props.minDate,\n      maxDate = props.maxDate,\n      onClick = props.passThrough.Day.onClick,\n      setScrollDate = props.setScrollDate,\n      setHighlight = props.setHighlight;\n  var highlightedDate = getInitialDate(props);\n  var delta = 0;\n\n  if ([keyCodes.left, keyCodes.up, keyCodes.right, keyCodes.down].indexOf(e.keyCode) > -1 && typeof e.preventDefault === 'function') {\n    e.preventDefault();\n  }\n\n  switch (e.keyCode) {\n    case keyCodes.enter:\n      onClick && onClick(highlightedDate);\n      return;\n\n    case keyCodes.left:\n      delta = -1;\n      break;\n\n    case keyCodes.right:\n      delta = +1;\n      break;\n\n    case keyCodes.down:\n      delta = +7;\n      break;\n\n    case keyCodes.up:\n      delta = -7;\n      break;\n\n    default:\n      delta = 0;\n  }\n\n  if (delta) {\n    var newHighlightedDate = addDays(highlightedDate, delta); // Make sure the new highlighted date isn't before min / max\n\n    if (isBefore(newHighlightedDate, minDate)) {\n      newHighlightedDate = new Date(minDate);\n    } else if (isAfter(newHighlightedDate, maxDate)) {\n      newHighlightedDate = new Date(maxDate);\n    }\n\n    setScrollDate(newHighlightedDate);\n    setHighlight(newHighlightedDate);\n  }\n}\n\nfunction getInitialDate(_ref3) {\n  var highlightedDate = _ref3.highlightedDate,\n      selected = _ref3.selected,\n      displayDate = _ref3.displayDate;\n  return highlightedDate || selected.start || displayDate || selected || new Date();\n}","map":{"version":3,"sources":["E:/react app/my-app/node_modules/react-infinite-calendar/es/Calendar/withKeyboardSupport.js"],"names":["_withState","_withProps","_withHandlers","_compose","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","addDays","format","isAfter","isBefore","keyCodes","withImmutableProps","enhanceDay","props","isHighlighted","highlightedDate","date","withKeyboardSupport","_ref","DayComponent","onKeyDown","e","handleKeyDown","_ref2","onSelect","passThrough","setHighlight","Day","onClick","rootNode","minDate","maxDate","setScrollDate","getInitialDate","delta","left","up","right","down","indexOf","keyCode","preventDefault","enter","newHighlightedDate","Date","_ref3","selected","displayDate","start"],"mappings":"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","sourcesContent":["import _withState from 'recompose/withState';\nimport _withProps from 'recompose/withProps';\nimport _withHandlers from 'recompose/withHandlers';\nimport _compose from 'recompose/compose';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nimport addDays from 'date-fns/add_days';\nimport format from 'date-fns/format';\nimport isAfter from 'date-fns/is_after';\nimport isBefore from 'date-fns/is_before';\nimport { keyCodes, withImmutableProps } from '../utils';\n\nvar enhanceDay = _withProps(function (props) {\n  return {\n    isHighlighted: props.highlightedDate === props.date\n  };\n});\n\nexport var withKeyboardSupport = _compose(_withState('highlightedDate', 'setHighlight'), withImmutableProps(function (_ref) {\n  var DayComponent = _ref.DayComponent;\n  return {\n    DayComponent: enhanceDay(DayComponent)\n  };\n}), _withHandlers({\n  onKeyDown: function onKeyDown(props) {\n    return function (e) {\n      return handleKeyDown(e, props);\n    };\n  }\n}), _withProps(function (_ref2) {\n  var highlightedDate = _ref2.highlightedDate,\n      onKeyDown = _ref2.onKeyDown,\n      onSelect = _ref2.onSelect,\n      passThrough = _ref2.passThrough,\n      setHighlight = _ref2.setHighlight;\n  return {\n    passThrough: _extends({}, passThrough, {\n      Day: _extends({}, passThrough.Day, {\n        highlightedDate: format(highlightedDate, 'YYYY-MM-DD'),\n        onClick: function onClick(date) {\n          setHighlight(null);\n          passThrough.Day.onClick(date);\n        }\n      }),\n      rootNode: { onKeyDown: onKeyDown }\n    })\n  };\n}));\n\nfunction handleKeyDown(e, props) {\n  var minDate = props.minDate,\n      maxDate = props.maxDate,\n      onClick = props.passThrough.Day.onClick,\n      setScrollDate = props.setScrollDate,\n      setHighlight = props.setHighlight;\n\n  var highlightedDate = getInitialDate(props);\n  var delta = 0;\n\n  if ([keyCodes.left, keyCodes.up, keyCodes.right, keyCodes.down].indexOf(e.keyCode) > -1 && typeof e.preventDefault === 'function') {\n    e.preventDefault();\n  }\n\n  switch (e.keyCode) {\n    case keyCodes.enter:\n      onClick && onClick(highlightedDate);\n      return;\n    case keyCodes.left:\n      delta = -1;\n      break;\n    case keyCodes.right:\n      delta = +1;\n      break;\n    case keyCodes.down:\n      delta = +7;\n      break;\n    case keyCodes.up:\n      delta = -7;\n      break;\n    default:\n      delta = 0;\n  }\n\n  if (delta) {\n    var newHighlightedDate = addDays(highlightedDate, delta);\n\n    // Make sure the new highlighted date isn't before min / max\n    if (isBefore(newHighlightedDate, minDate)) {\n      newHighlightedDate = new Date(minDate);\n    } else if (isAfter(newHighlightedDate, maxDate)) {\n      newHighlightedDate = new Date(maxDate);\n    }\n\n    setScrollDate(newHighlightedDate);\n    setHighlight(newHighlightedDate);\n  }\n}\n\nfunction getInitialDate(_ref3) {\n  var highlightedDate = _ref3.highlightedDate,\n      selected = _ref3.selected,\n      displayDate = _ref3.displayDate;\n\n  return highlightedDate || selected.start || displayDate || selected || new Date();\n}"]},"metadata":{},"sourceType":"module"}